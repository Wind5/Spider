http://www.ict.cas.cn/kxcb/kxr/201009/t20100907_2945910.html
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
《阿凡达》中的图形学和高性能计算----中国科学院计算技术研究所
 《阿凡达》影片剧情很简单：人类为了一种神奇能源来到了潘多拉星球，该能源在潘多拉星球上储量丰富。但是与该星球上的智慧生物——纳威族人的能源开发的谈判以失败告终，于是人类凭借先进的热武器，悍然对纳威族人发动进攻，从而达到攫取能源的目的。关键时刻，具有良知的科学家和雇佣兵帮助纳威族人打败了入侵者，恢复了潘多拉的平静。
截至今年4月份，《阿凡达》在国内的票房收入超过了12.5亿人民币，在全球更是达到了史无前例的26.3亿美元。《阿凡达》票房的成功主要应归功于其震撼的视觉效果和完美的观影体验。在《阿凡达》中，炫目的外太空景色、美轮美奂的植物、凶猛的野兽、悬浮在空中的山以及高空俯冲的快感等，通过IMAX和3D技术完美的展现在了观众的面前。而这些景象的产生，都是通过计算机图形学的技术来实现的。据报道，《阿凡达》中60%的画面是由图形学的相关技术来完成的，这其中包括：场景渲染技术、动作和表情捕捉技术以及基于虚拟现实的拍摄技术。为了将潘多拉星球的景象展现在屏幕前，首先需要建模师对出现在场景中的所有物体进行建模，然后借助于计算机，就可以得到在某一时刻、某一位置下的场景效果了。当场景中不仅只有景物，还有人物时，由于人的动作和表情更为细腻，为了让虚构的纳威族人具有和人一样的敏捷的动作和饱含感情的表情，就需要用到动作和表情捕捉技术。动作和表情捕捉是通过对人体和人脸进行采样，然后将采样点映射到模型上来实现模型和演员做同样的动作、表达同样的情感的。面部和肢体的采样有多种，有的是通过贴感应器的方法，有的则是直接通过图像进行采样的。一般而言，贴感应器的方法较为准确，后处理也容易，但是成本比较高，而且会对演员的表演有所影响。虽然在完成前面的工作后，计算机就可以计算每一帧的图像，进而得到整部电影。但是计算机的引入，改变了导演已经习惯的传统拍摄模式。为了减小这种改变带来的影响，《阿凡达》的导演卡梅隆和他的制作公司利用虚拟电影制作技术，将虚拟摄像机、先进的动作表情捕捉技术、3D特效软件和实时呈现技术融合在一起，开创了一种前所未有的电影特效制作方式，实现了真实环境与虚拟场景的紧密互动。通过该技术，卡梅隆在拍摄现场就可以看到虚拟摄像机后他想象中的潘多拉星球的画面，从而和传统拍摄一样，指导演员如何与虚拟的环境互动，完成他想表达的意思。可以说，渲染技术提供了完美的时空描述，而虚拟现实技术则使得导演以为自己置身于潘多拉星球。
《阿凡达》的拍摄采用了多种图形学的技术，而这些技术的实现基础是高性能计算。《阿凡达》的3D特效是由著名的新西兰视觉公司维塔数字来完成的，该公司参与制作的电影包括《指环王》、《金刚》、《2012》等著名的视觉效果影片。在电影的特效制作中，每一帧图像甚至每一帧图像上每个点的渲染都是相互独立的，所以非常适合并行加速。维塔数字公司为了制作《阿凡达》，使用了1280台惠普服务器，其累积峰值高达205万亿次浮点运算/秒，与部署在上海超算中心的曙光5000运算能力相当。最终完成的影片大小为3TB，而在电影制作过程中产生的数据大约有3PB，如此海量的数据如何有效的存储和管理是一个很大的挑战。维塔数字公司采用了NAS系统来进行管理。在影片制作的高峰期，其NAS系统要服务于渲染库上超过3.5万个内核，全天候以每秒8GB的持续负载量处理1.6万个并发读写流程，正是这些惊人的数据成就了《阿凡达》的震撼效果。除了高并行度，电影特效对高性能计算需求的特点还在于人类对视觉享受的追求是无止境的。有数据显示，虽然计算能力在不断提高，但是制作电影特效的时间并没有降下来，因为提升的计算能力都被用于获得更高的视觉享受上了。维塔数字制作《黑客帝国》时采用的工作站只相当于奔三800，而在《阿凡达》中，虽然运算能力大幅提高，但是最长的一帧仍然用了92个小时才绘制完成。
娱乐方面的高性能应用正在成为一个新的快速增长的领域。在国内，2008年的中国高性能Top100上，排在14位的超级计算机就属于一家专业的视觉公司——水晶石公司。该公司完成了包括《大国崛起》、《疯狂的石头》、《赤壁》等电影的特效设计，在08年的北京奥运会中，该公司更是全程参与了开幕式的设计，用电脑事先实现了整个开幕式的过程，为导演提供了创意的直观显示。而目前在建的深圳千万亿次超算中心，其主要业务之一就是服务于影视动画行业。
《阿凡达》用全球26.3亿美元的票房说明了他们的巨额投资（3.1亿美元）是远远物超所值的。对于图形学及高性能计算的研究人员而言，《阿凡达》的成功让大家看到了一个新的领域所具有的极大的发展前景。
