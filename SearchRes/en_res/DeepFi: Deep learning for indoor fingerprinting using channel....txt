 DeepFi: Deep learning for indoor fingerprinting using channel state informationConference Paper · March 2015 with 2,851 ReadsDOI: 10.1109/WCNC.2015.7127718 Conference: IEEE WCNC 2015Cite this publication1st Xuyu Wang9.77 · Auburn University2nd Lingjun Gao3rd Shiwen Mao4th Santosh Pandey10.23 · Cisco Systems, IncAbstractWith the fast growing demand of location-based services in indoor environments, indoor positioning based on fingerprinting has attracted a lot of interest due to its high accuracy. In this paper, we present a novel deep learning based indoor fingerprinting system using Channel State Information (CSI), which is termed DeepFi. Based on three hypotheses on CSI, the DeepFi system architecture includes an off-line training phase and an on-line localization phase. In the off-line training phase, deep learning is utilized to train all the weights as fingerprints. Moreover, a greedy learning algorithm is used to train all the weights layer-by-layer to reduce complexity. In the on-line localization phase, we use a probabilistic method based on the radial basis function to obtain the estimated location. Experimental results are presented to confirm that DeepFi can effectively reduce location error compared with three existing methods in two representative indoor environments.Discover the worlds research13+ million members100+ million publications700k+ research projectsJoin for free3 Figures
 DeepFi:Deep Learning for Indoor FingerprintingUsing Channel State InformationXuyu Wang†, Lingjun Gao†, Shiwen Mao†, and Santosh Pandey‡†Department of Electrical and Computer Engineering, Auburn University, Auburn, AL 36849-5201‡Cisco Systems, Inc., 170 West Tasman Dr., San Jose, CA 95134Email: {xzw0029, lzg0014}@auburn.edu, smao@ieee.org, sanpande@cisco.comAbstract—With the fast growing demand of location-basedservices in indoor environments, indoor positioning based onﬁngerprinting has attracted a lot of interest due to its highaccuracy. In this paper, we present a novel deep learning basedindoor ﬁngerprinting system using Channel State Information(CSI), which is termed DeepFi. Based on three hypotheses onCSI, the DeepFi system architecture includes an off-line trainingphase and an on-line localization phase. In the off-line trainingphase, deep learning is utilized to train all the weights asﬁngerprints. Moreover, a greedy learning algorithm is used totrain all the weights layer-by-layer to reduce complexity. In theon-line localization phase, we use a probabilistic method basedon the radial basis function to obtain the estimated location.Experimental results are presented to conﬁrm that DeepFi caneffectively reduce location error compared with three existingmethods in two representative indoor environments.I. INTRODUCTIONWith the proliferation of mobile devices, indoor localizationhas become an increasingly important problem. Unlike outdoorlocalization, such as the Global Positioning System (GPS),that has line-of-sight (LOS) signals, indoor localization facesa challenging radio propagation environment, including multi-path effect, shadowing, channel fading and time delay [1], [2].In addition to the high accuracy requirement, an indoorpositioning system should also have short estimation processtime and low complexity for mobile devices. To this end,ﬁngerprinting-based indoor localization becomes an effectivemethod to satisfy these requirements, where an enormousamount of measurements are essential to build a databasebefore real-time position estimation.Fingerprinting localization usually consists of two funda-mental phases: (i) the off-line phase, which is also calledthe training phase, and (ii) the on-line phase, which is alsocalled the test phase [3]. The training phase is for databaseconstruction, when survey data related to the position marksis collected and pre-processed. In the on-line phase, a mobiledevice records real time data and tests it using the database.The test output is then used to estimate the position of themobile device, by searching each training point to ﬁnd themost closely matched one as the target location. Besides suchnearest estimation method, an alternative matching algorithmis to identify several close points each with a maximumlikelihood probability, and to calculate the estimated positionas the weighted average of the candidate positions.In the off-line training stage, machine learning methods canbe used to train ﬁngerprints instead of storing all the receivedsignal strength (RSS). Such machine learning methods notonly reduce the computational complexity, but also obtain thecore features in the RSS for better localization performance.K-nearest-neighbor, neural networks, and support vector ma-chine as popular machine learning methods that have been ap-plied for ﬁngerprinting based indoor localization. K-nearest-neighbor uses the weighted average of Knearest locations todetermine an unknown location with the inverse of the Eu-clidian distance between the observed RSS measurement andits Knearest training samples [1]. A limitation of K-nearest-neighbor is that it needs to store all the RSS training values.Neural networks utilizes the back-propagation algorithm totrain weights, but it only considers one hidden layer andneeds label data as a supervised learning [4]. Support vectormachine uses kernel function to solve the randomness andincompleteness of the RSS values, which has high computingcomplexity [5].Many existing indoor localization systems use RSS valuesas ﬁngerprints due to its simplicity and low hardware require-ments. For example, the Horus system uses a probabilisticmethod for location estimation with RSS values [6]. SuchRSS based methods have two disadvantages. First, RSS valuesusually have a high variability over time for a ﬁxed location,due to the multipath effects in indoor environments. Suchhigh variability can introduce large location error even fora stationary device. Second, RSS values are coarse informa-tion, which does not exploit the subcarriers in an orthogonalfrequency-division multiplexing (OFDM) for richer multipathinformation. Nowadays, it is possible to obtain channel stateinformation (CSI) from some advanced WiFi network interfacecards (NIC), which can be used as ﬁngerprints to improve theperformance of indoor localization [7], [8]. For instance, theauthors in [9] propose an FIFS system that uses the weightedaverage CSI values over multiple antennas to improve theperformance of RSS-based method. In addition, the authorsin [10] present a PinLoc system that also exploits CSI infor-mation, which considers 1×1m2spot for training data, thusleading to high war-driving.In this paper, we propose a deep learning based ﬁngerprint-ing scheme to mitigate the above problems of existing machinelearning based methods. The deep learning based scheme canfully explore the feature of the wireless channel data andobtain the optimal weights as ﬁngerprints. It also incorporatesa greedy learning algorithm to reduce computational complex-ity, which has been successfully applied in image processing1
 0 0.05 0.1 0.15 0.2 0.2500.20.40.60.81Std of Normalized Amplitude of CSICDF antenna1antenna2antenna3Fig. 1. Standard deviation of normalized ampli-tudes of CSI values.0 5 10 15 20 25 300510152025303540Subcarrier (f)Amplitude (dB)Fig. 2. Amplitudes of channel frequency responsesof 50 packets at three different positions.1 2 3 4 5 600.20.40.60.81The Number of CSI ClustersCDFFig. 3. CDF of the number of channel frequencyresponses at 50 different locations.and voice recognition [11]. The proposed scheme is based onchannel state information (CSI) to obtain more informationabout the wireless channels than RSS based schemes. Theproposed scheme is also different from the existing CSI basedschemes, in that it incorporates 90 magnitudes of CSI valuescollected from three antennas to train the weights of a deepnetwork with deep learning. As a result, our method does notrequire to sample a large number of positions.In particular, we present DeepFi, a deep learning basedindoor ﬁngerprinting scheme using CSI. We ﬁrst introducethe background of CSI and offer three hypotheses based onCSI. We then present the DeepFi system architecture, whichincludes an off-line training phase and an on-line localizationphase. In the training phase, CSI information for all thesubcarriers from three antennas are collected from accessingthe device driver and are analyzed with a deep network withfour hidden layers. We propose to use the weights in the deepnetwork to represent ﬁngerprints, and to incorporate a greedylearning algorithm to reduce training complexity. In the on-linelocalization phase, a probabilistic data fusion method based onradial basis function is developed for online location estima-tion. The proposed DeepFi scheme is validated under extensiveexperiments in two representative indoor environments, i.e., anliving room environment and a computer laboratory environ-ment. DeepFi is shown to outperform several existing RSSIand CSI based schemes in both experiments.The remainder of this paper is organized as follows. Thebackground and hypotheses are presented in Section II. InSection III, we offer the DeepFi system. Experimental resultsare discussed in Section IV. Section V concludes this paper.II. BACKGROUND AND HYPOTHESESA. Channel State InformationThanks to the advanced NICs, such as Intel’s IWL 5300, it isnow much easier to conduct channel state measurements thanin the recent past when we have to detect hardware records forphysical layer (PHY) information. Now CSI can be retrievedfrom a laptop by accessing the NIC’s device drive. CSI recordsthe channel variation experienced during propagation, whichcan be used to analyze the properties of wireless signals.Transmitted from a source, a wireless signal may experienceabundant impairments caused by, e.g., the multipath effect,fading, shadowing, and delay distortion. Without CSI, it ishard to reveal the channel characteristics with only the signalpower.Let X and Y denote as the transmitted and received vectors.We haveY=CSI ·X+N, (1)where vector Nis the additive white Gaussian noise. CSIstands for the channel frequency response. which can beestimated by the expression CSI =Y/X .The WiFi channel at the 2.4 GHz band can be consideredas a narrowband ﬂat fading channel. Intel WiFi Link 5300implements an OFDM system with 48 subcarriers, 30 outof which can be read as CSI information via the devicedriver. The channel frequency response CSIiof the ithsubcarrier is a complex value, which is deﬁned byCSIi=|CSIi|exp (jsin ∠CSIi).(2)where |CSIi|and ∠CSIiare the amplitude response andthe phase response of the ith subcarrier, respectively. Inthis paper, the proposed DeepFi framework is based on these30 subcarriers (or, CSI values) in the OFDM system, whichcan reveal completely different properties than RSSI.B. HypothesesWe next propose three hypotheses on the CSI values, whichare veriﬁed later with the statistical measurement results.Hypotheses 1 CSI values maintain stability at a stationarylocation but exhibit variability between adjacent positions.CSI values reﬂect channel properties in the frequency do-main and exhibit great stability over time. Fig. 1 plots the CDFof the standard deviation of CSI amplitudes, collected fromthree antennas when receiving 50 packets. It shows that thestandard deviation of CSI amplitudes at 90% positions is 10%of the average value, and therefore CSI values have higherstability than RSSI, which usually has more than 30% nor-malized standard deviation. The stability of CSI values is alsoinvariant to indoor environment changes. Our measurementslast a long period covering both ofﬁce hours and quiet hours.But no obvious difference in stability is found for differentenvironments. On the contrary, RSS values usually vary greatlydue to multipath even at the same position. It can be easilydisturbed by human movements.On the other hand, another characteristic of CSI values is theapparent variability when the estimated position is away from2
 the access point (AP). Fig. 2 plots the subcarriers of CSI for 50back-to-back packet receptions from three adjacent positions,from which hardly any similar trend can be observed. In orderto maintain the correlation between test and training points, wepartition the ﬂoor into small grids and densely sample trainingpoints.Hypotheses 2 The multipath effect on CSI values revealsvarious clusters with different attenuation for the subcarriers.CSI values reﬂect channel frequency responses with abun-dant multipath components and channel fading. The indoorenvironment can be view as a time-varying channel model,and therefore CSI may change slightly over time. Our studyof channel frequency responses show that there are severaldominant clusters at a position, where each cluster presentsa multipath combination. Fig. 3 shows the distribution of thenumber of clusters according to packets for 50 locations. Asshown in Fig. 3, when we deﬁne that one cluster has the sameCSI subcarrier trend, most of the locations have two or threeclusters. We also ﬁnd that some locations has only one cluster,which usually means that there is less reﬂection and diffusion;some other locations with ﬁve or six clusters may suffer muchfrom the multipath effect.To consider all possible of the number of clusters, wedetected for a long time in each position. Since lots of dataare needed to train speciﬁc characteristics in deep learning,more packet transmissions will be helpful to reveal the com-prehensive properties at each spot. In our experiments, 1000packets are recorded for training at each location instead of60 packets in the FIFS system.Hypotheses 3 The three antennas of Intel WiFi Link 5300NIC have different features, which improve the diversity oftraining samples.Intel WiFi Link 5300 is equipped with three antennas. Weﬁnd that the channel frequency responses of the three antennasare totally different, even for the same packet reception.In Fig. 7, signals from the three antennas exhibit differentproperties in CSI subcarriers. In FIFS, CSI from the threeantennas are simply accumulated to produce an average value.In contrast, DeepFi aims to utilize their varieties to enhancethe training process in deep learning. The 30 subcarriers can betreated as 30 nodes and used as input data of visible variabilityfor deep learning training. Due to the three antennas of theIntel WiFi Link 5300 NIC, there can be 90 nodes in totalthat can be used as input data for deep learning training.The greatly increased number of nodes for input data canimprove the diversity of training samples, thus leading tobetter performance of localization if reasonable parameters arechosen.III. THE DEEPFISYSTEMA. System ArchitectureFig. 4 shows the system architecture of DeepFi. In ourdesign, DeepFi only needs one access point and one mobiledevice equipped with an Intel WiFi link 5300 NIC. At themobile device, raw CSI values can be read from the modiﬁedchipset ﬁrmware for packets received from the AP. The IntelWiFi link 5300 NIC has three antennas, each of which cancollect 30 different subcarriers. We can obtain 90 raw CSIvalues for one packet reception. Unlike FIFS that averagesover multiple antennas to reduce the received noise, our systemexploits all CSI values from the three antennas for indoorﬁngerprint to exploit diversity of the MIMO channel. Sinceit is hard to use the phases of CSI values for localization,we only consider the amplitude responses of CSI values forﬁngerprinting. On the other hand, since the input values arelimited in the range of (0, 1) for effective deep learning, wenormalize the amplitudes of the 90 CSI values for differentlocations, which can be utilized in both the ofﬂine trainingphase and the online localization phase.In the ofﬂine training phase, we can generate feature-based ﬁngerprints, which are greatly different from the tra-ditional methods that are based on clustering. Feature-basedﬁngerprints utilize a large number of weights obtained bydeep learning to denote different locations, which effectivelydescribe the characteristics of CSI values. The feature-basedﬁngerprints server can store all weights for different traininglocations. In the online localization phase, the mobile devicecan estimate its position based on data fusion, which normal-izes the magnitudes of CSI values using weights from differentpositions to get its estimated location.B. Weight Training with Deep LearningFig. 5 illustrates how to train weights based on deeplearning. There are three stages in the procedure, includingpretraining, unrolling, and ﬁne-tuning [12]. In the pretrainingstage, it is a deep network with four hidden layers, whereevery hidden layer owns a different number of neurons. Inorder to reduce the dimension of CSI data, we assume thatthe number of neurons in a higher hidden layer is more thanthat in a lower hidden layer. Let K1, K2, K3and K4denotethe number of neurons in the ﬁrst, second, third, and fourthhidden layer, respectively. Based on the above assumption, wehave K1> K2> K3> K4. We can set different numbers ofneurons in different indoor environments.In addition, we propose a new approach to represent ﬁnger-prints by the weights between two connected layers. DeﬁneW1, W2, W3and W4as the weights between the normalizedmagnitudes of CSI values and the ﬁrst hidden layer, the ﬁrstand second hidden layer, the second and third hidden layer,and the third and fourth hidden layer, respectively. The keyidea is that by training all weights in the deep network, wecan store them as ﬁngerprints to help localization in the on-line test stage. Moreover, we deﬁne hias the hidden variableat layer i, where i= 1,2,3,4, and let vdenote the input data,i.e., the normalized magnitudes of CSI values.We can represent the deep network with a probabilisticgenerative model that has four hidden layers, which can bewritten asPr(v, h1, h2, h3, h4)= Pr(v|h1) Pr(h1|h2) Pr(h2|h3) Pr(h3, h4).(3)Because the nodes in the deep network is mutually indepen-dent, Pr(v|h1),Pr(h1|h2), and Pr(h2|h3)can be represented3
 CSI Process[] 1 2 90| | | CSI | |CSI | | CSI |=CSIuuuuuuvLLocation 1DataDeep LearningLocation 2DataLocation NDataLLocation 2WeightsLocation NWeightsLocation1WeightsData Fusion Test Location XDataEstimated LocationAccess PointMobile DeviceSuccessive PacketsNormalizationOnlineOfflineLFig. 4. DeepFi Architecture.Neurons| |CSIuuuuuuvNormalizationNeurons NeuronsNeuronsR| |CSIuuuuuuvReconstructionNeuronsNeuronsNeurons1W2W3W4W4TW3TW2TW1TW∑−+ErrorPretrainingUnrollingFine-tuningSuccessive Packets1K2K3K4K3K2K1KFig. 5. Weight training with deep learning. Fig. 6. Layout of the living room (top) and thelaboratory (bottom) and training/test positions.byPr(v|h1) = Q90i=1 Pr(vi|h1)Pr(h1|h2) = QK1i=1 Pr(h1i|h2)Pr(h2|h3) = QK2i=1 Pr(h2i|h3),(4)where Pr(vi|h1),Pr(h1i|h2), and Pr(h2i|h3)are described bythe sigmoid belief network in the deep network, asPr(vi|h1) = 1/1 + exp (b0i−PK1j=1 Wi,j1h1j)Pr(h1i|h2) = 1/1 + exp (b1i−PK2j=1 Wi,j2h2j)Pr(h2i|h3) = 1/1 + exp (b2i−PK3j=1 Wi,j3h3j),(5)where b0i,b1iand b2iare the biases for unit iof input data v,unit iof layer 1, and unit iof layer 2, respectively. On theother hand, the joint distribution Pr(h3, h4)is expressed by anRestricted Bolzmann Machine (RBM) as a bipartite undirectedgraphical model [13], which is given byPr(h3, h4) = exp(−E(h3, h4))/Z, (6)where Z=Ph3Ph4exp(−E(h3, h4)) and E(h3, h4) =−PK3i=1 b3ih3i−PK4j=1 b4jh3j−PK3i=1 PK4j=1 Wi,j4h3ih4j. In fact,since it is difﬁcult to ﬁnd the joint distribution Pr(h3, h4), weuse the contrastive divergence (CD) algorithm to approximateit, which is given by(Pr(h3|h4) = QK3i=1 Pr(h3i|h4)Pr(h4|h3) = QK4i=1 Pr(h4i|h3),(7)where Pr(h3i|h4), and Pr(h4i|h3)are described by sigmoidbelief network, that arePr(h3i|h4) = 1/1 + exp (b3i−PK4j=1 Wi,j4h4j)Pr(h4i|h3) = 1/1 + exp (b4i−PK3j=1 Wi,j4h3j).(8)Finally, the marginal distribution of input data for the deepbelief network is written byPr(v) = Xh1Xh2Xh3Xh4Pr(v, h1, h2, h3, h4)(9)Due to the complex model structure with the large numberof neurons and multiple hidden layers in the deep beliefnetworks, it is difﬁcult to obtain the weights using the giveninput data with the maximum likelihood method. In DeepFi,we adopt a greedy learning algorithm using a stack of RBMs totrain the deep network in a layer-by-layer manner [13]. Thisgreedy algorithm ﬁrst estimates the parameters {b0, b1, W1}of the ﬁrst layer RBM to model the input data. Then theparameters {b0, W1}of the ﬁrst layer are frozen, and weobtain the samples from the conditional probability Pr(h1|v)to train the second layer RBM (i.e., to estimate the parameters{b1, b2, W2}), and so forth. Finally, we can obtain the param-eters {b3, b4, W4}of the fourth layer RBM with the abovegreedy learning algorithm. For the layer iRBM model, we usethe CD-1 (CD with 1 step iteration) method to update weightsWi. We ﬁrst get hibased on the samples from the conditionalprobability Pr(hi|hi−1), and then obtain ˆhi−1based on thesamples from the conditional probability Pr(hi−1|hi), andﬁnally we obtain ˆhiusing the samples from the conditionalprobability Pr(hi|ˆhi−1). Thus, we can update the parametersas follows.Wi=Wi+α(hi−1hi−ˆhi−1ˆhi)bi=bi+α(hi−ˆhi)bi−1=bi−1+α(hi−1−ˆhi−1),(10)where αis the step size.After the pretraining stage, we need to unroll the deepnetwork to obtain the reconstruction data by using input datawith forward propagation. Then the error between input data4
 and the reconstructed data can be used to adjust all the weightsin different layers with the back-propagation algorithm. Thisprocedure is called ﬁne-tuning. By minimizing the error, wecan obtain the optimal weights to represent ﬁngerprints, whichare stored to help improve indoor localization in the on-linestage.C. Location Estimation based on Data FusionAfter off-line training, we need to test it with positions thatare different from those used in the training stage. Becausethe probabilistic methods have better performance of indoorlocalization than deterministic ones, we use the probabilitymodel based on Bayes’ law, which is given byPr(Li|v) = Pr(Li) Pr(v|Li)PiPr(Li) Pr(v|Li),(11)where Liis the i-th reference location, Pr(Li|v)is theposteriori probability, Pr(Li)is the prior probability that themobile device is determined to be located at reference locationi. In addition, we assume that Pr(Li)is uniformly distributed.It follows thatPr(Li|v) = Pr(v|Li)PiPr(v|Li).(12)Based on the deep network model, we deﬁne Pr(v|Li)as theradial basis function (RBF) in the form of a Gaussian function,which is formulated byPr(v|Li) = exp −kv−ˆvkλσ ,(13)where ˆvis the reconstruction input data by using deep learning,σis the variance of the input data, λis the coefﬁcient ofvariation (CV) of the input data. Finally, the position of themobile device can be estimated as a weighted average of allthe reference locations, which is given byˆL=XiPr(Li|v)Li.(14)We will evaluate the proposed DeepFi system for indoorlocalization in the following section.IV. EXPERIMENT VALIDATIONA. Experiment MethodologyWe perform experiments with DeepFi and examine boththe training phase and the test phase. Training locations areequally distributed in the entire room and test points arerandomly chosen among the training points. A TL router actsas an AP, while a Dell laptop equipped with an Intel WiFiLink 5300 NIC is used as the mobile device in both trainingand test phases.We verify the performance of DeepFi in various scenariosand compare the resulting location errors in different envi-ronments. We ﬁnd that in an open room where there areno outstanding obstacles around the center, the performanceof localization is better than that in complex environmentwhere there are few LOS paths. In this section, we presentthe experimental results from two typical indoor localizationenvironments, as given below.TABLE IMEAN ERRORS FOR THE LIVING ROOM AND AND LABORATORYEXPERIMENTSLiving Room LaboratoryAlgorithm Mean error Std. dev. Mean error Std. dev.(m) (m) (m) (m)DeepFi 0.9425 0.5630 1.8081 1.3432FIFS 1.2436 0.5705 2.3304 1.0219Horus 1.5449 0.7024 2.5996 1.4573ML 2.1615 1.0416 2.8478 1.55451) Living Room in a House: The living room we chooseis almost empty, so that most of the measured locations canhave LOS receptions. In this 4×7m2room, the AP wasplaced on the ﬂoor, and so do all the training and test points.As shown in the top plot in Fig. 6, 50 points are uniformlyscattered with half meter spacing in the room. Because onlyone AP was utilized in our experiment, the AP placed at oneend (rather than the center) of the room to avoid isotropy. Wearbitrarily set 12 points in two lines as test points and use theremaining points for training (see the top plot in Fig. 6: thetraining positions are marked in red and the test positions aremarked in green). For each location, we collect CSI data fornearly 500 packet receptions in 60 seconds. We choose a deepnetwork with structure K1= 300, K2= 150, K3= 100, andK4= 50 for the living room environment.2) Computer Laboratory: The other test scenario is acomputer laboratory in Broun Hall in the campus of AuburnUniversity. There are many desks and PCs crowded in the6×9m2room, which block most of the LOS paths and forma complex radio propagation environment. In this laboratory,50 training points and 30 test points are selected, as shownin the bottom plot in Fig. 6. The mobile device will also beput at these locations on the ﬂoor, with LOS paths blocked bythe desks and computers. To obtain integrated characteristicsof the subcarriers, CSI information for 1000 packet receptionsare collected at each location. We set the deep network withstructure K1= 500, K2= 300, K3= 150, and K4= 50 forthe laboratory environment.3) Benchmarks: For comparison purpose, we implementedthree existing methods, including FIFS [9], Horus [6], andMaximum Likelihood (ML) [14]. FIFS and Horus are intro-duced in Section I. In ML, the maximum likelihood probabilityis used for location estimation with RSS, where only onecandidate location is used as the estimation result. For a faircomparison, these schemes use the same measured data as inDeepFi to estimate the location of the mobile device.B. Localization PerformanceIn this section, we evaluate the performance of the proposedCSI-based deep learning algorithm with statistical results forthe two representative scenarios. The mean and standarddeviation of the location errors are presented in Table I. Wecan see that in the living room experiment, the mean distanceerror is about 0.95 meter for DeepFi with a single AP. Inthe computer laboratory scenario, where there exists abundantmultipath and shadowing effect, the mean error is about 1.85
 0 5 10 15 20 25 300510152025303540Subcarrier (f)Amplitude (dB) Fig. 7. Amplitudes of channel frequency responsesof the three antennas (each is plotted in one color)of 50 packets.0 0.5 1 1.5 2 2.5 3 3.5 400.10.20.30.40.50.60.70.80.91Distance Error (m)CDF DeepFiFIFSHorusMLFig. 8. CDF of localization errors in the livingroom experiment.0 1 2 3 4 5 6 700.10.20.30.40.50.60.70.80.91Distance Error (m)CDF DeepFiFIFSHorusMLFig. 9. CDF of localization errors in the laboratoryexperiment.meters across 30 test points. DeepFi outperforms FIFS inboth scenarios; the latter has a distance error of 1.2 metersin the living room scenario and 2.3 meters in the laboratoryscenario. DeepFi achieves a 20% improvement over FIFS, dueto the integrated properties of CSI subcarriers from the threeantennas. Both CSI ﬁngerprinting schemes, i.e., DeepFi andFIFS, outperform the two RSSI-based ﬁngerprinting schemes,i.e., Horus and ML. The latter achieves an error of at least 2.6meters in the laboratory experiment.Fig. 8 presents the cumulative distribution function (CDF)of distance errors with the four methods in the living roomexperiment. With DeepFi , more than 60% of the test pointshave an error under 1 meter using a single AP, while FIFSensures that fewer than 30% of the test points have an errorunder 1 meter. In addition, most of the test points havedistance errors less than 1.5 meters in FIFS, which is similarto DeepFi. On the other hand, both RSSI methods based oncoarse information, i.e., Horus and ML, do not perform as wellas the CSI-based schemes. There are only 80% of the pointshave an error under 2 meters.Fig. 9 plots the CDF of distance errors in the laboratoryexperiment. In this more complex propagation environment,DeepFi can achieve a 1.7 meters distance error for over 60%of the test points, which is the most accurate among the fourmethod. Because desks obstruct most LOS paths and magnifythe multipath effect, the correlation between signal strengthand propagation distance is weak. The methods based onpropagation properties, i.e., FIFS, Horus, and ML all havedegraded performance. In Fig. 9, it is noticed that 70% ofthe test points have a 3 meters distance error with FIFS andHorus. Unlike FIFS, DeepFi utilizes various CSI subcarriers.It achieves higher accuracy even with just a single AP. Itperforms well in this NLOS environment because DeepFishows CSI space property instead of propagation property withthe distance.V. CONCLUSIONIn this paper, we presented DeepFi, a deep learning basedindoor ﬁngerprinting scheme that uses CSI information. InDeepFi, CSI information for all the subcarriers from threeantennas are collected from accessing the device driver andanalyzed with a deep network with four hidden layers. Basedon three hypotheses on CSI, we proposed to use the weightsin the deep network to represent ﬁngerprints, and incorporateda greedy learning algorithm to train all the weights layer-by-layer to reduce complexity. In addition, a probabilisticdata fusion method based on the radial basis function wasdeveloped for online location estimation. The proposed DeepFischeme is validated in two representative indoor environments,and is found to outperform several existing RSSI and CSIbased schemes in both experiments.REFERENCES[1] H. Liu, H. Darabi, P. Banerjee, and L. Jing, “Survey of wireless indoorpositioning techniques and systems,” IEEE Trans. Syst., Man, Cybern.C, vol. 37, no. 6, pp. 1067–1080, Nov. 2007.[2] X. Wang, S. Mao, S. Pandey, and P. Agrawal, “CA2T: Cooperativeantenna arrays technique for pinpoint indoor localization,” in Proc.MobiSPC 2014, Niagara Falls, Canada, Aug. 2014, pp. 392–399.[3] P. Bahl and V. N. Padmanabhan, “Radar: An in-building RF-based userlocation and tracking system,” in Proc. IEEE INFOCOM’00, Tel Aviv,Israel, Mar. 2000, pp. 775–784.[4] S. Dayekh, “Cooperative localization in mines using ﬁngerprinting andneural networks,” in Proc. IEEE WCNC’10, Sydney, Australia, Apr.2010, pp. 1–6.[5] Z. Wu, C. Li, J. Ng, and K. Leung, “Location estimation via supportvector regression,” IEEE Trans. Mobile Comput., vol. 6, no. 3, pp. 311–321, Mar. 2007.[6] M. Youssef and A. Agrawala, “The Horus WLAN location determinationsystem,” in Proc. ACM MobiSys’05, Seattle, WA, June 2005, pp. 205–218.[7] K. Wu, J. Xiao, Y. Yi, D. Chen, X. Luo, and L. Ni, “CSI-based indoorlocalization,” IEEE Trans. Parallel Distrib. Syst., vol. 24, no. 7, pp.1300–1309, July 2013.[8] D. Halperin., W.J. Hu., A. Sheth., and D. Wetherall., “Predictable 802.11packet delivery from wireless channel measurements,” in Proc. ACMSIGCOMM’10, Sept. 2010, pp. 159–170.[9] J. Xiao, K. Wu., Y. Yi, and L. Ni, “FIFS: Fine-grained indoor ﬁnger-printing system,” in Proc. IEEE ICCCN’ 12, Aug. 2012, pp. 1–7.[10] S. Sen, B. Radunovic, R. R. Choudhury, and T. Minka, “You are facingthe Mona Lisa: Spot localization using PHY layer information,” in Proc.ACM MobiSys’12, Jun. 2012, pp. 183–196.[11] A. Krizhevsky, I. Sutskever, and G. Hinton, “ImageNet classiﬁcationwith deep convolutional neural networks,” in Proc. Neural Informationand Processing Systems 2012, Lake Tahoe, NV, Dec. 2012, pp. 1106–1114.[12] G. Hinton and R. Salakhutdinov, “Reducing the dimensionality of datawith neural networks,” Science, vol. 313, no. 5786, pp. 504–507, July2006.[13] Y. Bengio, P. Lamblin, D. Popovici, and H. Larochelle, “Greedy layer-wise training of deep networks,” in Proc. Advances in Neural Infor-mation Processing Systems 19 (NIPS’06), Cambridge, MA, 2007, pp.153–160.[14] M. Brunato and R. Battiti, “Statistical learning theory for locationﬁngerprinting in wireless LANs,” Elsevier Computer Networks, vol. 47,no. 6, pp. 825–845, Apr. 2005.6
 CitationsCitations15ReferencesReferences15Taking into consideration that a denoising autoencoder can be seen as a process of feature extraction, the node number of its hidden layers usually decrease along the data pass. The range of parameters are thus roughly set as n 1 ∈[8,18], n 2 ∈[5,14], n 3 ∈[3,10], and k ∈[1,30]for an affordable exhaustion. Using the localization accuracy as selection criterion, the optimal configuration is found to be n 1 = 9, n 2 = 13, n 3 = 5, and k = 9.Fig. 3D BLE Indoor Localization based on Denoising Autoencoder[Show abstract] [Hide abstract] ABSTRACT: Bluetooth Low Energy (BLE) based indoor localization has attracted increasing interests for its low cost, low power consumption, and ubiquitous availability in mobile devices. In this paper, a novel denoising autoencoder based BLE indoor localization (DABIL) method is proposed to provide high performance 3D positioning in large indoor places. A deep learning model, called denoising autoencoder, is adopted to extract robust fingerprint patterns from received signal strength indicator (RSSI) measurements, and a fingerprint database is constructed with reference locations in 3D space, rather than traditional 2D plane. Field experiments show that 3D space fingerprinting can effectively increase positioning accuracy, and DABIL performs best in terms of both horizontal accuracy and vertical accuracy, comparing with the traditional fingerprinting method and another deep learning based method. Moreover, it can achieve stable performance with incomplete beacon measurements due to unpredictable BLE beacon lost.Article · Jun 2017 Chao XiaoDaiqin YangZhenzhong ChenGuang TanGuang TanReadThe combination of the closest beacon identifier and the artwork identifier are fed to a processing center to retrieve the appropriate cultural content. In[30], the authors present a system called DeepFi that utilizes a deep learning method over fingerprinting data to locate indoor positions based on channel state information (CSI). As many other fingerprinting approaches, their system consists of offline training and online localization phases. Semi-supervised Deep Reinforcement Learning in Support of IoT and Smart City Services[Show abstract] [Hide abstract] ABSTRACT: Smart services are an important element of the smart cities and the Internet of Things (IoT) ecosystems where the intelligence behind the services is obtained and improved through the sensory data. Providing a large amount of training data is not always feasible; therefore, we need to consider alternative ways that incorporate unlabeled data as well. In recent years, Deep reinforcement learning (DRL) has gained great success in several application domains. It is an applicable method for IoT and smart city scenarios where auto-generated data can be partially labeled by users feedback for training purposes. In this paper, we propose a semi-supervised deep reinforcement learning model that fits smart city applications as it consumes both labeled and unlabeled data to improve the performance and accuracy of the learning agent. The model utilizes Variational Autoencoders (VAE) as the inference engine for generalizing optimal policies. To the best of our knowledge, the proposed model is the first investigation that extends deep reinforcement learning to the semi-supervised paradigm. As a case study of smart city applications, we focus on smart buildings and apply the proposed model to the problem of indoor localization based on BLE signal strength. Indoor localization is the main component of smart city services since people spend significant time in indoor environments. Our model learns the best action policies that lead to a close estimation of the target locations with an improvement of 23% in terms of distance to the target and at least 67% more received rewards compared to the supervised DRL model. Full-text · Article · Jun 2017 Mehdi MohammadiAla Al-FuqahaMohsen GuizaniJun-Seok OhJun-Seok OhRead full-textFurthermore, CSI data are exploited for indoor fingerprinting to improve the localization accuracy. FIFS[15], PinLoc[34], PhaseFi[22],[30]and DeepFi[16],[35]are all CSI-based schemes that leverage CSI data to achieve reliable fingerprints. Although these systems achieve good localization performances, they require offline calibration to create the fingerprint database via war-driving. BiLoc: Bi-modal Deep Learning for Indoor Localization with Commodity 5GHz WiFi[Show abstract] [Hide abstract] ABSTRACT: In this paper, we study fingerprinting based indoor localization in commodity 5GHz WiFi networks. We first theoretically and experimentally validate three hypotheses on the CSI data of 5GHz OFDM channels. We then propose a system termed BiLoc, which uses bi-modality deep learning for localization in the indoor environment using off-the-shelf WiFi devices. We develop a deep learning based algorithm to exploit bi-modal data, i.e., estimated AOAs and average amplitudes (which are calibrated CSI data using several proposed techniques), for both the offline and online stages of indoor fingerprinting. The proposed BiLoc system is implemented using commodity WiFi devices. Its superior performance is validated with extensive experiments under three typical indoor environments and through comparison with three benchmark schemes.Article · Mar 2017 Xuyu WangLingjun GaoShiwen MaoReadWe calculated the moving variance and moving average of all CSI amplitudes within each sliding window W ii (t); these have appeared to be very useful in our application. @BULLET Phase information: Several prior papers reported that the CSI phase values are very noisy (Sen et al. 2012; Yang, Zhou, and Liu 2013;Wang et al. 2015). Therefore, in order to infer meaningful behaviour from phase variations, an extensive amount of preprocessing and enhancement needs to be performed. Real-Time Indoor Localization in Smart Homes Using Semi-Supervised Learning[Show abstract] [Hide abstract] ABSTRACT: Long-term automated monitoring of residential or small industrial properties is an important task within the broader scope of human activity recognition. We present a device- free wifi-based localization system for smart indoor spaces, developed in a collaboration between McGill University and Aerˆıal Technologies. The system relies on existing wifi net- work signals and semi-supervised learning, in order to automatically detect entrance into a residential unit, and track the location of a moving subject within the sensing area. The implemented real-time monitoring platform works by detecting changes in the characteristics of the wifi signals collected via existing off-the-shelf wifi-enabled devices in the environment. This platform has been deployed in several apartments in the Montreal area, and the results obtained show the potential of this technology to turn any regular home with an existing wifi network into a smart home equipped with intruder alarm and room-level location detector. The machine learning component has been devised so as to minimize the need for user annotation and overcome temporal instabilities in the input signals. We use a semi-supervised learning framework which works in two phases. First, we build a base learner for mapping wifi signals to different physical locations in the environment from a small amount of labeled data; during its lifetime, the learner automatically re-trains when the uncertainty level rises significantly, without the need for further supervision. This paper describes the technical and practical issues arising in the design and implementation of such a system for real residential units and illustrates its performance during on-going deployment. Full-text · Conference Paper · Feb 2017 · IEEE AccessNegar GhourchianMichel Allegue‐MartínezDoina PrecupRead full-textFurthermore, CSI data are exploited for indoor fingerprinting to improve the localization accuracy. FIFS[15], PinLoc[34], PhaseFi[22],[30]and DeepFi[16],[35]are all CSI-based schemes that leverage CSI data to achieve reliable fingerprints. Although these systems achieve good localization performances, they require offline calibration to create the fingerprint database via war-driving. BiLoc: Bi-modal Deep Learning for Indoor Localization with Commodity 5GHz WiFi[Show abstract] [Hide abstract] ABSTRACT: In this paper, we study fingerprinting based indoor localization in commodity 5GHz WiFi networks. We first theoretically and experimentally validate three hypotheses on the CSI data of 5GHz OFDM channels. We then propose a system termed BiLoc, which uses bi-modality deep learning for localization in the indoor environment using off-the-shelf WiFi devices. We develop a deep learning based algorithm to exploit bi-modal data, i.e., estimated AOAs and average amplitudes (which are calibrated CSI data using several proposed techniques), for both the offline and online stages of indoor fingerprinting. The proposed BiLoc system is implemented using commodity WiFi devices. Its superior performance is validated with extensive experiments under three typical indoor environments and through comparison with three benchmark schemes. Full-text · Article · Jan 2017 Xuyu WangLingjun GaoShiwen MaoRead full-textDeepFi [11] CSI Phase Fingerprinting for Indoor Localization with a Deep Learning Approach[Show abstract] [Hide abstract] ABSTRACT: With the increasing demand of location-based services , indoor localization based on fingerprinting has become an increasingly important technique due to its high accuracy and low hardware requirement. In this paper, we propose PhaseFi, a fingerprinting system for indoor localization with calibrated channel state information (CSI) phase information. In PhaseFi, the raw phase information is first extracted from the multiple antennas and multiple subcarriers of the IEEE 802.11n network interface card (NIC) by accessing the modified device driver. Then a linear transformation is applied to extract the calibrated phase information, which we prove to have a bounded variance. For the offline stage, we design a deep network with three hidden layers to train the calibrated phase data, and employ the weights of the deep network to represent fingerprints. A greedy learning algorithm is incorporated to train the weights layer-by-layer to reduce computational complexity, where a sub-network between two consecutive layers forms a Restricted Boltzmann Machine (RBM). In the online stage, we use a probabilistic method based on the radial basis function (RBF) for online location estimation. The proposed PhaseFi scheme is implemented and validated with extensive experiments in two representation indoor environments. It is shown to outperform three benchmark schemes based on CSI or RSS in both scenarios. Full-text · Article · Dec 2016 Xuyu WangLingjun GaoShiwen MaoRead full-textShow moreRecommended publicationsDiscover more publications, questions and projects in Deep LearningWorking PaperA survey on WiFi Channel State Information (CSI) utilization in Human Activity RecognitionMay 2016Read moreDiscover moreData provided are for informational purposes only. Although carefully collected, accuracy cannot be guaranteed. Publisher conditions are provided by RoMEO. Differing provisions from the publishers actual policy or licence agreement may be applicable.This publication is from a journal that may support self archiving.Learn more 
